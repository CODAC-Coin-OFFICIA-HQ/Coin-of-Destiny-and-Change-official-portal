<!DOCTYPE html>
<html>
<head>
    <title>CDC Dashboard Preview</title>
    <style>
        body { background: #000; color: #ffd700; font-family: sans-serif; padding: 20px; }
        .stat-card { border: 2px solid #333; padding: 20px; border-radius: 10px; background: #111; margin-bottom: 20px; }
        .btn { background: #ffd700; color: #000; padding: 10px; border: none; border-radius: 5px; cursor: pointer; font-weight: bold; }
        .locked-alert { color: #ff4444; border: 1px solid #ff4444; padding: 10px; margin-top: 10px; }
    </style>
</head>
<body>
    <h1>CDC Portal Dashboard (Preview)</h1>
    
    <div class="stat-card">
        <h3>Merchant Calculation Test</h3>
        <p>Sale Amount: $100.00</p>
        <button class="btn" onclick="testMath()">Calculate Rewards</button>
        <div id="mathResult"></div>
    </div>

    <div class="stat-card">
        <h3>Your Progress (Project 1)</h3>
        <p>Current Level: 7</p>
        <div class="locked-alert" id="guardianNotice">
            SYSTEM STATUS: Checking Guardian Verification...
        </div>
    </div>

    <script src="cdc_core_logic.js"></script>
    <script>
        function testMath() {
            const result = calculateMerchantPoints(100);
            const display = document.getElementById('mathResult');
            if(result === "LOCKED") {
                display.innerHTML = "<p style='color:red'>Cannot calculate: System is in Maintenance Lock.</p>";
            } else {
                display.innerHTML = `<p>Fee: $${result.merchantFee} | User: ${result.userPoints} Points</p>`;
            }
        }
        
        // Test the Guardian Lock
        const status = checkMemberStatus(1, 7, false);
        document.getElementById('guardianNotice').innerText = status.message || "LOCKED: Succession Papers Required";
    </script>
</body>
</html>
